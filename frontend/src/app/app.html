<div class="app-wrapper">
  <header class="header">
    <h1>Cohort Builder</h1>
    <p class="subtitle">Search patient cohorts using natural language</p>
    <app-search-bar (search)="runQuery($event)"></app-search-bar>
  </header>

  <section class="filters">
    <app-filter-chip [filters]="activeFilters" (remove)="removeFilter($event)" (clear)="clearAllFilters()">
    </app-filter-chip>

    <app-ambiguity-banner
  *ngIf="response?.clarification_requests?.length"
  [requests]="response!.clarification_requests"
  (resolve)="onClarificationResolved($event)">
</app-ambiguity-banner>

  </section>

  <section class="stats" *ngIf="response">
    <app-stats-summary [stats]="response.stats"></app-stats-summary>
  </section>

  <section class="results" *ngIf="filteredResults.length">
    <app-results-table [results]="filteredResults"></app-results-table>
  </section>
</div>